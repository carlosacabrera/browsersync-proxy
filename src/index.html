<!DOCTYPE html>
<html ng-app="app">
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>BrowserSyncApp</title>

    <link rel="stylesheet" href="./app.css">

  </head>
  <body>
    <div ng-controller="MainCrtl" ng-class="{ running: running }">

      <!-- Form  -->
      <section id="proxy">
        <form novalidate name="proxyForm" ng-submit="proxyForm.$valid && proxyStart()">
          <input id="field-sourceURL" required type="url" name="sourceURL" ng-model="sourceURL" placeholder="http://www.sapient.com"/>
        </form>
      </section>

      <!-- Settings  -->
      <div id="settings">

        <div class="settings-item">
          <strong>
            <i class="fa fa-chrome"></i>
            open in browser</strong>

          <label class="switch switch-left-right">
            <input class="switch-input" type="checkbox" name="settings.openWindow" ng-model="settings.openWindow"/>
            <span class="switch-label" data-on="On" data-off="Off"></span>
            <span class="switch-handle"></span>
          </label>
        </div>

        <div class="settings-item">
          <strong>
            <i class="fa fa-hand-pointer-o"></i>
            clicks</strong>

          <label class="switch switch-left-right">
            <input class="switch-input" type="checkbox" name="settings.clicks" ng-model="settings.clicks"/>
            <span class="switch-label" data-on="On" data-off="Off"></span>
            <span class="switch-handle"></span>
          </label>
        </div>
        <div class="settings-item">
          <strong>
            <i class="fa fa-i-cursor"></i>
            forms</strong>

          <label class="switch switch-left-right">
            <input class="switch-input" type="checkbox" name="settings.forms" ng-model="settings.forms"/>
            <span class="switch-label" data-on="On" data-off="Off"></span>
            <span class="switch-handle"></span>
          </label>
        </div>
        <div class="settings-item">
          <strong>
            <i class="fa fa-arrows"></i>
            scroll</strong>

          <label class="switch switch-left-right">
            <input class="switch-input" type="checkbox" name="settings.scroll" ng-model="settings.scroll"/>
            <span class="switch-label" data-on="On" data-off="Off"></span>
            <span class="switch-handle"></span>
          </label>
        </div>

      </div>

      <section id="proxy-running" class="overlay" ng-if="running">
        <div class="overlay-content">

          <div ng-if="loading" class="loading">
            loading...
          </div>

          <div class="proxy-urls" ng-if="proxyURL">
            <ul>
              <li>
                <strong>
                  <i class="fa fa-desktop"></i>
                  Local</strong>
                <a ng-href="{{proxyURL.local}}" target="_blank">
                  {{proxyURL.local}}
                </a>
              </li>
              <li>
                <strong>
                  <i class="fa fa-wifi"></i>
                  External</strong>
                <a ng-href="{{proxyURL.external}}" target="_blank">
                  {{proxyURL.external}}
                </a>
              </li>
              <li>
                <strong>
                  <i class="fa fa-bullseye"></i>
                  Proxying</strong>
                <a ng-href="{{sourceURL}}" target="_blank">
                  {{sourceURL}}
                </a>
              </li>
            </ul>

          </div>

          <footer>
            <button id="button-stop" class="fa fa-stop-circle" type="button" name="proxy-stop" ng-disabled="!running" ng-click="proxyStop()">
              Stop
            </button>
          </footer>

        </div>
      </section>

      <footer>
        <button id="button-start" class="fa fa-play-circle" type="button" ng-click="proxyForm.submit()" ng-disabled="proxyForm.$invalid">
          Start
        </button>
      </footer>

    </div>
    <!-- build:remove -->
    <script>
      require('electron-connect').client.create()
    </script>
    <!-- endbuild -->

    <script src="./app.js"></script>
  </body>
</html>
