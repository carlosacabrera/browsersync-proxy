<!DOCTYPE html>
<html ng-app="app">
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>BrowserSyncApp</title>

    <link rel="stylesheet" href="./app.css">

  </head>
  <body>
    <div ng-controller="MainCrtl">

      <header id="header">

        <form novalidate name="proxyForm" ng-submit="proxyForm.$valid && proxyStart()">

          <i id="logo-icon" class="fa fa-cloud"></i>
          <input id="field-sourceURL" required type="url" name="sourceURL" ng-model="sourceURL" placeholder="http://www.sapient.com"/>

          <button id="button-start" class="fa fa-play-circle" type="submit" ng-if="proxyForm.$valid" name="proxy-start" ng-hide="proxyURL"></button>

          <button id="button-stop" class="fa fa-stop-circle" type="button" name="proxy-stop" ng-show="proxyURL" ng-click="proxyStop()"></button>

          <ng-messages for="proxyForm.sourceURL.$error" role="alert">
            <ng-message when="url">make sure the url is valid. hint http://www.sapient.com</ng-message>
            <ng-message when="required">start by adding a url</ng-message>
          </ng-messages>
        </form>

      </header>

      <section id="settings">
        <label>
          <input type="checkbox" name="openWindow" ng-model="openWindow"/>
          open on browser
        </label>

        <div ng-if="loading" class="loading">
          loading...
        </div>
      </section>

      <section ng-if="proxyURL">
        <em>
          <a ng-href="proxyURL.local" target="_blank">
            <i class="fa fa-desktop"></i>
            {{proxyURL.local}}
          </a <br />
          <a ng-href="proxyURL.external" target="_blank">
            <i class="fa fa-globe"></i>
            {{proxyURL.external}}
          </a>
        </em>
      </section>
    </div>

    <!-- build:remove -->
    <script>
      require('electron-connect').client.create()
    </script>
    <!-- endbuild -->

    <script src="./app.js"></script>
  </body>
</html>
